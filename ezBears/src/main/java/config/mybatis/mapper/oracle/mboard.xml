<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ez.ezBears.MBoard.model.MBoardDAO">

<!-- 부서 등록시 보드에서 동명의 부서 찾기 -->
	<select id="checkSameName" parameterType="String" resultType="int" >
		SELECT COUNT(*) FROM M_BOARD WHERE M_BOARD_NAME = #{MBoardName}
	</select>

<!-- 부서 등록시 동명의 부서가 없으면 새로 생성 -->
	<insert id="insertMBoard" parameterType="MBoardVo">
		<selectKey keyProperty="MBoardNo" order="BEFORE" resultType="int">
			SELECT M_BOARD_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		INSERT INTO M_BOARD(M_BOARD_NO, M_BOARD_NAME)
		VALUES(#{MBoardNo}, #{MBoardName})
	</insert>
</mapper>