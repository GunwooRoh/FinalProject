<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ez.ezBears.staff.model.StaffDAO">
	<select id="selectCheckId" parameterType="string"
		resultType="int">
		select count(*) from STAFF  
		where STAFF_ID=#{staffId}
	</select>
	
	<select id="selectPwd" parameterType="String"
		resultType="string">
		select STAFF_PWD from STAFF 
		where STAFF_ID=#{staffId}
	</select> 

	<select id="selectStatus" parameterType="String"
		resultType="string">
		select STAFF_STATUS from STAFF 
		where STAFF_ID=#{staffId}
	</select> <!-- vo랑 map가 NULL값이 들어오면 return이 안된다 -->
	
	
	<insert id="insertStaff" parameterType="staffVo">
		<selectKey keyProperty="staffNo" order="BEFORE" resultType="int">
			select staff_seq.nextval from dual
		</selectKey>
		insert into staff(staff_no, dept_no, staff_name, staff_position, staff_back_no, 
    		staff_birth, staff_sal, contract_start, contract_done, staff_tel, staff_info, 
    		staff_addr, staff_addr_detail, staff_status, staff_id, staff_pwd, staff_image)
		values(#{staffNo}, #{deptNo}, #{staffName}, #{staffPosition}, #{staffBackNo}, 
			#{staffBirth}, #{staffSal}, #{contractStart}, #{contractDone}, #{staffTel}, #{staffInfo},
			#{staffAddr}, #{staffAddrDetail}, #{staffZipcode}, #{staffId}, #{staffPwd}, #{staffImage})
	</insert>
	
</mapper>
